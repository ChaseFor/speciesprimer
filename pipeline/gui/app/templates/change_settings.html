{% extends "base.html" %}

{% block content %} 
    <h2>Change species configuration for primerdesign</h2>   
    
    <p>
    <strong>Warning!</strong><br> 
    If you want to repeat a run with different settings you may need to manually 
    delete most of the directories from an earlier run.
    </p>
    <p>
    If an earlier run for the species was successfull, the [Species_name] 
    directory in the <strong>Summary</strong> directory has to be renamed or deleted in order to start another run.
    </p>
    <p>
    If you change settings for <strong>assembly level</strong> or for <strong>quality control</strong> 
    you need to <strong>delete all QC directories and the Pangenome directory</strong> 
    and you can only keep your annotated genomes.
    </p>
    <p>
    If you want to have a core gene alignment and a phylogeny tree after a first run with the 
    <strong>skip_tree</strong> option you need to repeat everything from the pan-genome analysis on, 
    which means you have to delete the Pangenome directory.
    </p>
    <p>
    If you want to add an <strong>exception</strong> after a complete run you have to delete all <strong>blastsummary.json</strong> files in the 
    <strong>[Species_name]/Pangenome/results/blast</strong> and <strong>[Species_name]/Pangenome/results/primer/primerblast</strong> directories.    
    A workaround is to add corresponding geneidentifiers into the <strong>NO_BLAST.gi</strong> file (see SpeciesPrimer settings).
    </p>
    <p>
    If you change <strong>primer design settings</strong> the pipeline will handle this. 
    </p>
    <p>
    If you change the <strong>primer quality control settings</strong> the pipeline handles this (fast).
    </p>
    
    <form action="" method="post" enctype="multipart/form-data" novalidate>
        {{ form.hidden_tag() }}
        <h3>Select a config.json file to change:</h3>
        <p>{{ form.targets() }}</p>
        {% for error in form.targets.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}   
        <p>{{ form.submit() }}</p>          
    </form>
{% endblock %}